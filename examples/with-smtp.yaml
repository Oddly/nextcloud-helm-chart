# Example: Nextcloud with SMTP email configuration
#
# Install with:
#   helm install nextcloud nextcloud-chart/nextcloud -n nextcloud -f with-smtp.yaml

nextcloud:
  adminUser: "<your-admin-username>"
  adminPassword: "<your-secure-password>"

app-template:
  controllers:
    main:
      containers:
        main:
          env:
            NEXTCLOUD_TRUSTED_DOMAINS: "<your-domain.com> localhost"
            NC_DEFAULT_PHONE_REGION: "<YOUR-COUNTRY-CODE>"

            # SMTP Configuration
            SMTP_HOST: "<smtp.your-provider.com>"
            SMTP_SECURE: "tls"              # ssl, tls, or empty
            SMTP_PORT: "587"                # 25, 465, or 587
            SMTP_AUTHTYPE: "LOGIN"          # LOGIN, PLAIN, or empty
            SMTP_NAME: "<your-smtp-username>"
            SMTP_PASSWORD: "<your-smtp-password>"
            MAIL_FROM_ADDRESS: "nextcloud"  # local part (before @)
            MAIL_DOMAIN: "<your-domain.com>"

  ingress:
    main:
      enabled: true
      className: nginx
      hosts:
        - host: <your-domain.com>
          paths:
            - path: /
              pathType: Prefix
              service:
                identifier: main
                port: http
